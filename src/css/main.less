
@boxBg: #2c2c2c;
@boxFace: #636363;

background: @boxBg;


content {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	color: #999;
	font-size: 12px;
	text-shadow: 0 1px 0 rgba(0,0,0,.1);

	&.cover:after,
	&.no-cursor:before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		z-index: 999;
		background: transparent;
	}

	[class*="icon-"],
	[class^="icon-"] {
		position: relative;
		display: inline-block;
		vertical-align: middle;
		width: 15px;
		height: 15px;
		background-size: contain;
		background-repeat: no-repeat;
		background-position: 50% 50%;
		filter: drop-shadow(0 1px 0 rgba(0,0,0,.15));
		
		&.icon-new      { background-image: url(~/icons/icon-new.png); }
		&.icon-trashcan { background-image: url(~/icons/icon-trashcan.png); }
		&.icon-zoom     { background-image: url(~/icons/icon-zoom.png); }
		&.icon-sort     { background-image: url(~/icons/icon-sort.png); }

		&.icon-paint    { background-image: url(~/icons/icon-paint.png); }
		&.icon-preview  { background-image: url(~/icons/icon-preview.png); }
		&.icon-code     { background-image: url(~/icons/icon-code.png); }
		
		&.icon-eye-on   { background-image: url(~/icons/icon-eye-on.png); }
		&.icon-eye-off  { background-image: url(~/icons/icon-eye-off.png); }
	}

	.workarea {
		position: absolute;
		top: 5px;
		left: 5px;
		right: 5px;
		bottom: 5px;
		display: flex;
		flex-direction: column;

		.row-work {
			position: relative;
			display: flex;
			flex: 1;

			.column-canvas {
				flex: 1;
				display: flex;
				
				.area {
					&.show-canvas {
						.head,
						.body {
							&.canvas { display: block; }
							&.preview,
							&.code { display: none; }
						}

						.foot {
							.button.zoom {
								display: block;
							}
						}
					}

					&.show-preview {
						.head,
						.body {
							&.preview { display: block; }
							&.canvas,
							&.code { display: none; }
						}

						.foot {
							.button.zoom {
								display: none;
							}
						}
					}

					&.show-code {
						.head,
						.body {
							&.code { display: block; }
							&.preview,
							&.canvas { display: none; }
						}

						.foot {
							.button.zoom {
								display: none;
							}
						}
					}

					.body.canvas {
						canvas.design {
							position: absolute;
							top: 0;
							left: 0;
							width: 100%;
							height: 100%;
							border-radius: inherit;
						}
					}

					.foot {
						.button {
							opacity: .75;

							&.active {
								opacity: 1;
								filter: brightness(1.35);
							}

							&:not(.zoom) {
								[class*="icon-"],
								[class^="icon-"] {
									top: -1px;
									margin-right: 2px;
								}
							}

							&.zoom {
								position: absolute;
								top: 1px;
								right: 0;
								padding: 0;

								span {
									background: @boxBg;
									position: relative;
									top: 1px;
									padding: 2px 5px 1px;
									margin: 0 0 0 2px;
									border-radius: 2px;

									&:after {
										content: "%";
										opacity: .5;
										padding-left: 2px;
									}
								}

								&:hover {
									filter: none;
									color: #ccc;

									[class*="icon-"],
									[class^="icon-"] {
										filter: brightness(1.25);
									}
								}
							}
						}
					}
				}
			}

			.column-sidebar {
				width: 240px;
				display: flex;
				flex-direction: column;

				.navigator {
					height: 200px;
					margin-bottom: 5px;
					flex: initial;
					
					.body {
						bottom: 4px;

						> div {
							background: rgba(200,200,200,.1);
							position: absolute;
							top: 7px;
							left: 43px;
							width: 153px;
							height: 161px;
							box-shadow: 0 0 0 1px darken(@boxFace, 11%);

							canvas {
								width: 100%;
								height: 100%;
								background: url(~/samples/img/hb.png) 50% 50%/contain no-repeat;
							}

							.view-rect {
								position: absolute;
								top: 17px;
								left: 53px;
								width: 100px;
								height: 80px;
								cursor: move;
								box-shadow: 0 0 0 2px #f90;
							}
						}
					}
				}

				.layers {
					margin: 0 19px 0 0;

					.body {
						.asset {
							position: relative;
							padding: 5px;
							display: flex;
							border-bottom: 1px solid rgba(0,0,0,.1);

							canvas {
								background: url(~/samples/img/hb.png) 50% 50%/contain no-repeat;
								background-color: rgba(200,200,200,.1);
								display: inline-block;
								width: 31px;
								height: 31px;
								box-shadow: 0 0 0 1px darken(@boxFace, 11%);
							}

							span {
								flex: 1;
								padding: 9px 7px;
							}
						}
					}

					.foot {
						text-align: right;
					}

					.bg-scrollbar {
						bottom: 19px;

						&:after {
							content: "";
							background: url(~/icons/negative-corner.png) 50% 50%/contain no-repeat;
							position: absolute;
							left: 0;
							bottom: -4px;
							width: 4px;
							height: 4px;
							transform: rotate(180deg);
						}
					}
				}
			}

		}

		.row-timeline {
			display: flex;
			height: 170px;
			--barW: 14px;
			--chanH: 23px;
			--c: #d60;

			.area {
				margin: 0 19px 19px 0;
				border-radius: 5px 5px 0 5px;

				.body {
					top: 4px;
					bottom: 4px;
					display: flex;

					.left {
						// background: rgba(0,0,0,.1);
						width: 196px;
						display: flex;
						flex-direction: column;
						border-right: 1px solid #555;

						.tbl-body {
							.tbl-row {
								padding: 2px 3px 2px 5px;

								[class*="icon-"],
								[class^="icon-"] {
									filter: brightness(1.25);
								}
								
								span {
									display: inline-block;
									padding: 2px 3px;
								}
							}
						}
					}

					.right {
						flex: 1;
						display: flex;
						flex-direction: column;
						// border-left: 1px solid rgba(200,200,200,.1);

						.tbl-head {
							position: relative;

							&:before {
								content: "";
								position: absolute;
								left: 0;
								right: 0;
								bottom: 0;
								height: 13px;
								border-top: 1px solid #555;
								background-image: repeating-linear-gradient(90deg,
									transparent 0px, transparent calc( calc( var( --barW ) * 9 ) - 1px ),
									#555 calc( calc( var( --barW ) * 9 ) - 1px ), #555 calc( var( --barW ) * 9 ),
									#55555570 calc( var( --barW ) * 9 ), #55555570 calc( calc( var( --barW ) * 10 ) - 1px ),
									#555 calc( calc( var( --barW ) * 10 ) - 1px ), #555 calc( var( --barW ) * 10 )
								);
							}

							&:after {
								content: "";
								position: absolute;
								left: 0;
								right: 0;
								bottom: 0;
								height: 3px;
								border-top: 1px solid rgba(200,200,200,.1);
							}

							> div {
								position: absolute;
								top: 0;
								left: 0;
								right: 0;
								bottom: 0;
								overflow: hidden;

								ul {
									list-style: none;
									white-space: nowrap;
									font-size: 0;
									counter-reset: frame-counter;

									li {
										text-align: right;
										width: calc( var( --barW ) * 10 );
										padding: 3px 2px;
										display: inline-block;
										font-size: 11px;
										counter-increment: track-counter;

										&:before {
											content: counter(track-counter);
										}

										&:after {
											content: "0";
										}
									}
								}
							}

							.play-head {
								position: absolute;
								top: 30px;
								left: 80px;
								height: 113px;
								width: 1px;
								overflow: visible;
								z-index: 99;
								background: #f90;

								span {
									position: absolute;
									top: -15px;
									left: -5px;
									width: 11px;
									height: 10px;
									background: lighten(@boxFace, 7%);
									border: 1px solid rgba(0,0,0,.25);
									cursor: ew-resize;

									&:before {
										content: "";
										position: absolute;
										left: 0;
										bottom: -5px;
										width: 0;
										height: 0;
										border-left: 5px solid transparent;
										border-right: 5px solid transparent;
										border-top: 5px solid lighten(@boxFace, 7%);
										filter: drop-shadow(0 1px 0 rgba(0,0,0,.35));
										transform: translateX(-.5px);
									}
								}
							}
						}

						.tbl-body {
							.tbl-row {
								background-image: repeating-linear-gradient(90deg,
										transparent 0px, transparent calc( var( --barW ) - 1px ),
										#555 calc( var( --barW ) - 1px ), #555 var( --barW )
									),
									repeating-linear-gradient(90deg,
										transparent 0px, transparent calc( var( --barW ) * 9 ),
										#55555570 calc( var( --barW ) * 9 ), #55555570 calc( var( --barW ) * 10 )
									);

								&.parent-row {
									.frames {
										background: rgba(255,255,255,.125);
										box-shadow: inset 0 0 0 1px rgba(255,255,255,.15),
													0 1px 2px rgba(0,0,0,.175);
										border-radius: 2px;
										top: 3px;
										height: calc( var( --chanH ) - 7px );
									}
								}
							}

							.frames {
								position: absolute;
								top: 5px;
								left: calc( var( --l ) * var( --barW ) );
								width: calc( calc( var( --w ) * var( --barW ) ) - 1px );
								height: calc( var( --chanH ) - 11px );
								background-color: var( --c );
								background-image: linear-gradient(0deg, rgba(0,0,0,.2) 0%, transparent 100%);
								box-shadow: inset 0 1px 0 rgba(255,255,255,.075),
											0 1px 2px rgba(0,0,0,.2);
								border-radius: 3px;
							}
						}
					}

					.tbl-head {
						position: relative;
						height: 31px;
						border-bottom: 1px solid #555;
					}

					.tbl-body {
						position: relative;
						flex: 1;
						// border-top: 1px solid rgba(200,200,200,.1);
					}

					.tbl-row {
						position: relative;
						width: 100%;
						height: var( --chanH );
						border-bottom: 1px solid #555;
					}
				}

				.bg-scrollbar.right {
					top: 29px;
				}
			}
		}

		.bg-scrollbar {
			background: inherit;
			border-radius: 0 5px 5px 0;
			position: absolute;
			top: 19px;
			bottom: 0;
			right: -19px;
			width: 19px;

			&.right {
				&:before {
					content: "";
					background: url(~/icons/negative-corner.png) 50% 50%/contain no-repeat;
					position: absolute;
					left: 0;
					top: -4px;
					width: 4px;
					height: 4px;
					transform: rotate(90deg);
				}

				.scroll-track {
					top: 7px;
					bottom: 7px;
					left: 2px;
					width: 11px;

					.scroll-bar {
						top: 31%;
						left: 1px;
						width: 9px;
						height: 37%;
					}
				}
			}

			&.bottom {
				border-radius: 0 0 5px 5px;
				width: auto;
				top: auto;
				bottom: -19px;
				left: 200px;
				right: 0;
				height: 19px;

				&:before {
					content: "";
					background: url(~/icons/negative-corner.png) 50% 50%/contain no-repeat;
					position: absolute;
					top: 0;
					left: -4px;
					width: 4px;
					height: 4px;
					transform: rotate(-90deg);
				}

				&:after {
					content: "";
					background: url(~/icons/negative-corner.png) 50% 50%/contain no-repeat;
					position: absolute;
					top: 0;
					right: -4px;
					width: 4px;
					height: 4px;
					transform: rotate(180deg);
				}

				.scroll-track {
					left: 7px;
					right: 7px;
					top: 2px;
					height: 11px;

					.scroll-bar {
						left: 1px;
						top: 1px;
						height: 9px;
						width: 37%;
					}
				}
			}

			.scroll-track {
				position: absolute;
				border-radius: 13px;
				background: rgba(0,0,0,.125);

				.scroll-bar {
					opacity: 0;
					position: absolute;
					border-radius: 13px;
					background: darken(@boxFace, 3%);
					cursor: ns-resize;
				}
			}
		}

		.resize {
			&.horizontal {
				width: 3px;
			}

			&.vertical {
				height: 3px;
			}
		}

		.area {
			background: #454545;
			position: relative;
			border-radius: 5px;
			flex: 1;

			.head {
				position: absolute;
				top: 5px;
				left: 5px;
				right: 5px;
				height: 17px;
				overflow: hidden;
			}

			.body {
				background: @boxFace;
				position: absolute;
				top: 21px;
				left: 4px;
				right: 4px;
				bottom: 23px;
				border-radius: 3px;
				box-shadow: 0px 1px 1px rgba(0,0,0,.15),
							inset 0 1px 0 rgba(255,255,255,.1),
							inset -1px -1px 0px rgba(0,0,0,.075);
			}

			.foot {
				position: absolute;
				bottom: 3px;
				left: 5px;
				right: 5px;
				height: 17px;

				.button {
					display: inline-block;
					padding: 2px 3px 0 0;
					margin: 0 3px;
					cursor: pointer;

					&:hover {
						filter: brightness(1.35);
					}

					&:first-child {
						margin-left: 0;
					}

					&:last-child {
						margin-right: 0;
					}

					[class*="icon-"],
					[class^="icon-"] {
						top: 0;
					}
				}
			}
		}
	}


	// imports
	@import "inline-menubox";


	.knob {
		position: relative;
		display: inline-block;
		width: 34px;
		height: 34px;
		margin: 1px 3px 0;
		background: url(~/icons/knob.png) no-repeat;
		background-size: 100% auto;
		text-transform: uppercase;
		text-align: center;
		font-size: 10px;
		font-weight: 100;
		color: #69e;
		text-shadow: 0 0 0;
		//background-color: rgba(0,0,0,.1);

		&[data-label]:before {
			content: attr(data-label);
			position: absolute;
			bottom: -3px;
			left: 0;
			right: 0;
			z-index: 3;
			pointer-events: none;
		}

		&[data-title]:before {
			content: attr(data-title);
			position: absolute;
			bottom: -11px;
			left: -11px;
			right: -11px;
			z-index: 3;
			pointer-events: none;
		}

		&[data-value="0"], &[data-value="1"] { background-position: 0 0; } 
		&[data-value="2"], &[data-value="3"] { background-position: 0 -34px; }
		&[data-value="4"], &[data-value="5"] { background-position: 0 -68px; }
		&[data-value="6"], &[data-value="7"] { background-position: 0 -102px; }
		&[data-value="8"], &[data-value="9"] { background-position: 0 -136px; }
		&[data-value="10"], &[data-value="11"] { background-position: 0 -170px; }
		&[data-value="12"], &[data-value="13"] { background-position: 0 -204px; }
		&[data-value="14"], &[data-value="15"] { background-position: 0 -238px; }
		&[data-value="16"], &[data-value="17"] { background-position: 0 -272px; }
		&[data-value="18"], &[data-value="19"] { background-position: 0 -306px; }
		&[data-value="20"], &[data-value="21"] { background-position: 0 -340px; }
		&[data-value="22"], &[data-value="23"] { background-position: 0 -374px; }
		&[data-value="24"], &[data-value="25"] { background-position: 0 -408px; }
		&[data-value="26"], &[data-value="27"] { background-position: 0 -442px; }
		&[data-value="28"], &[data-value="29"] { background-position: 0 -476px; }
		&[data-value="30"], &[data-value="31"] { background-position: 0 -510px; }
		&[data-value="32"], &[data-value="33"] { background-position: 0 -544px; }
		&[data-value="34"], &[data-value="35"] { background-position: 0 -578px; }
		&[data-value="36"], &[data-value="37"] { background-position: 0 -612px; }
		&[data-value="38"], &[data-value="39"] { background-position: 0 -646px; }
		&[data-value="40"], &[data-value="41"] { background-position: 0 -680px; }
		&[data-value="42"], &[data-value="43"] { background-position: 0 -714px; }
		&[data-value="44"], &[data-value="45"] { background-position: 0 -748px; }
		&[data-value="46"], &[data-value="47"] { background-position: 0 -782px; }
		&[data-value="48"], &[data-value="49"] { background-position: 0 -816px; }
		&[data-value="50"], &[data-value="51"] { background-position: 0 -850px; }
		&[data-value="52"], &[data-value="53"] { background-position: 0 -884px; }
		&[data-value="54"], &[data-value="55"] { background-position: 0 -918px; }
		&[data-value="56"], &[data-value="57"] { background-position: 0 -952px; }
		&[data-value="58"], &[data-value="59"] { background-position: 0 -986px; }
		&[data-value="60"], &[data-value="61"] { background-position: 0 -1020px; }
		&[data-value="62"], &[data-value="63"] { background-position: 0 -1054px; }
		&[data-value="64"], &[data-value="65"] { background-position: 0 -1088px; }
		&[data-value="66"], &[data-value="67"] { background-position: 0 -1122px; }
		&[data-value="68"], &[data-value="69"] { background-position: 0 -1156px; }
		&[data-value="70"], &[data-value="71"] { background-position: 0 -1190px; }
		&[data-value="72"], &[data-value="73"] { background-position: 0 -1224px; }
		&[data-value="74"], &[data-value="75"] { background-position: 0 -1258px; }
		&[data-value="76"], &[data-value="77"] { background-position: 0 -1292px; }
		&[data-value="78"], &[data-value="79"] { background-position: 0 -1326px; }
		&[data-value="80"], &[data-value="81"] { background-position: 0 -1360px; }
		&[data-value="82"], &[data-value="83"] { background-position: 0 -1394px; }
		&[data-value="84"], &[data-value="85"] { background-position: 0 -1428px; }
		&[data-value="86"], &[data-value="87"] { background-position: 0 -1462px; }
		&[data-value="88"], &[data-value="89"] { background-position: 0 -1496px; }
		&[data-value="90"], &[data-value="91"] { background-position: 0 -1530px; }
		&[data-value="92"], &[data-value="93"] { background-position: 0 -1564px; }
		&[data-value="94"], &[data-value="95"] { background-position: 0 -1598px; }
		&[data-value="96"], &[data-value="97"] { background-position: 0 -1632px; }
		&[data-value="98"], &[data-value="99"] { background-position: 0 -1666px; }
		&[data-value="100"] { background-position: 0 -1700px; }
	}

}
